{"responses":{"200":{"description":"Event processed","content":{"application/json":{"schema":{"type":"object","description":"Result of processing a lifecycle event.","required":["event","actions","summary"],"properties":{"actions":{"type":"array","items":{"type":"object","description":"Lifecycle action response.","required":["id","tenant_id","event_id","action_type","entitlement_id","created_at","is_pending","is_executed","is_cancelled"],"properties":{"action_type":{"type":"string","description":"Type of lifecycle action.","enum":["provision","revoke","schedule_revoke","cancel_revoke","skip"],"title":"LifecycleActionType"},"assignment_id":{"type":"string","format":"uuid","description":"Assignment created/modified (if applicable).","nullable":true},"cancelled_at":{"type":"string","format":"date-time","description":"When the scheduled action was cancelled.","nullable":true},"created_at":{"type":"string","format":"date-time","description":"When the action was created."},"entitlement_id":{"type":"string","format":"uuid","description":"Target entitlement."},"error_message":{"type":"string","description":"Error message if action failed.","nullable":true},"event_id":{"type":"string","format":"uuid","description":"Event that triggered this action."},"executed_at":{"type":"string","format":"date-time","description":"When the action was executed.","nullable":true},"id":{"type":"string","format":"uuid","description":"Unique identifier."},"is_cancelled":{"type":"boolean","description":"Whether the action was cancelled."},"is_executed":{"type":"boolean","description":"Whether the action was executed."},"is_pending":{"type":"boolean","description":"Whether the action is pending."},"policy_id":{"type":"string","format":"uuid","description":"Policy that triggered this action.","nullable":true},"scheduled_at":{"type":"string","format":"date-time","description":"When scheduled revocation should execute.","nullable":true},"tenant_id":{"type":"string","format":"uuid","description":"Tenant ID."}},"title":"LifecycleActionResponse"},"description":"Actions taken as result of processing."},"event":{"type":"object","description":"Lifecycle event response.","required":["id","tenant_id","user_id","event_type","source","created_at"],"properties":{"attributes_after":{"description":"User attributes after the change.","nullable":true},"attributes_before":{"description":"User attributes before the change.","nullable":true},"created_at":{"type":"string","format":"date-time","description":"When the event was created."},"event_type":{"type":"string","description":"Type of lifecycle event.","enum":["joiner","mover","leaver"],"title":"LifecycleEventType"},"id":{"type":"string","format":"uuid","description":"Unique identifier."},"processed_at":{"type":"string","format":"date-time","description":"When the event was processed.","nullable":true},"source":{"type":"string","description":"Source of the event."},"tenant_id":{"type":"string","format":"uuid","description":"Tenant ID."},"user_id":{"type":"string","format":"uuid","description":"User ID this event affects."}},"title":"LifecycleEventResponse"},"snapshot":{"allOf":[{"type":"object","description":"Summary of an access snapshot (for embedded use).","required":["id","snapshot_type","assignment_count","created_at"],"properties":{"assignment_count":{"type":"integer","format":"int32","description":"Number of assignments captured."},"created_at":{"type":"string","format":"date-time","description":"When the snapshot was created."},"id":{"type":"string","format":"uuid","description":"Snapshot ID."},"snapshot_type":{"type":"string","description":"Type of access snapshot.","enum":["pre_leaver","pre_mover","current"],"title":"AccessSnapshotType"}},"title":"AccessSnapshotSummary"}],"nullable":true},"summary":{"type":"object","description":"Summary of lifecycle event processing.","properties":{"cancelled":{"type":"integer","format":"int32","description":"Number of cancelled scheduled revocations."},"provisioned":{"type":"integer","format":"int32","description":"Number of entitlements provisioned."},"revoked":{"type":"integer","format":"int32","description":"Number of entitlements revoked."},"scheduled":{"type":"integer","format":"int32","description":"Number of scheduled revocations."},"skipped":{"type":"integer","format":"int32","description":"Number of skipped (duplicate) assignments."}},"title":"ProcessingSummary"}},"title":"ProcessEventResult"}}}},"400":{"description":"Event already processed"},"401":{"description":"Unauthorized"},"404":{"description":"Event not found"},"500":{"description":"Internal server error"}}}