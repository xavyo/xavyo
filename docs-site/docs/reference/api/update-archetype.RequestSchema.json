{"title":"Body","body":{"content":{"application/json":{"schema":{"type":"object","description":"Request to update a persona archetype.","properties":{"attribute_mappings":{"allOf":[{"type":"object","description":"Attribute mappings configuration.","properties":{"computed":{"type":"array","items":{"type":"object","description":"Computed attribute mapping.","required":["target","template"],"properties":{"target":{"type":"string","description":"Target attribute name on persona."},"template":{"type":"string","description":"Handlebars template for computing value."},"variables":{"type":"object","description":"Static variables for template.","additionalProperties":{}}},"title":"ComputedMappingRequest"},"description":"Computed attributes from templates."},"persona_only":{"type":"array","items":{"type":"string"},"description":"Persona-only attribute names."},"propagate":{"type":"array","items":{"type":"object","description":"Propagation mapping configuration.","required":["source","target"],"properties":{"allow_override":{"type":"boolean","description":"Whether persona can override this attribute."},"mode":{"type":"string","description":"Propagation mode: \"always\" or \"default\"."},"source":{"type":"string","description":"Source attribute name on physical user."},"target":{"type":"string","description":"Target attribute name on persona."}},"title":"PropagateMappingRequest"},"description":"Attributes to propagate from physical user."}},"title":"AttributeMappingsRequest"}],"nullable":true},"default_entitlements":{"type":"array","items":{"type":"object","description":"Default entitlement to assign to new personas.","required":["application_id","entitlement_id"],"properties":{"application_id":{"type":"string","format":"uuid","description":"Application ID."},"entitlement_id":{"type":"string","format":"uuid","description":"Entitlement ID."},"reason":{"type":"string","description":"Assignment reason.","nullable":true}},"title":"DefaultEntitlementRequest"},"description":"Updated default entitlements.","nullable":true},"description":{"type":"string","description":"Updated description.","nullable":true},"is_active":{"type":"boolean","description":"Whether archetype is active.","nullable":true},"lifecycle_policy":{"allOf":[{"type":"object","description":"Lifecycle policy configuration.","properties":{"auto_extension_allowed":{"type":"boolean","description":"Whether auto-extension is allowed."},"default_validity_days":{"type":"integer","format":"int32","description":"Default validity in days for new personas."},"extension_requires_approval":{"type":"boolean","description":"Whether extension requires approval."},"max_validity_days":{"type":"integer","format":"int32","description":"Maximum validity in days."},"notification_before_expiry_days":{"type":"integer","format":"int32","description":"Days before expiry to send notification."},"on_physical_user_deactivation":{"type":"string","description":"Action on physical user deactivation."}},"title":"LifecyclePolicyRequest"}],"nullable":true},"name":{"type":"string","description":"Updated name.","nullable":true},"naming_pattern":{"type":"string","description":"Updated naming pattern.","nullable":true}},"title":"UpdateArchetypeRequest"}}},"required":true}}