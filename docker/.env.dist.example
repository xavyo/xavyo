# =============================================================================
# xavyo IDP — Production Environment Configuration
# =============================================================================
# Copy to .env and fill in all required values before starting.
# All variables marked (required) MUST be set — the compose file will fail
# to start if they are missing.
#
# Generate encryption keys: openssl rand -base64 32
# Generate passwords:       openssl rand -base64 24

# ---------------------------------------------------------------------------
# Database (required)
# ---------------------------------------------------------------------------
POSTGRES_PASSWORD=           # (required) Strong database password
POSTGRES_DB=xavyo
POSTGRES_USER=xavyo

# ---------------------------------------------------------------------------
# Public URLs (required)
# ---------------------------------------------------------------------------
ISSUER_URL=                  # (required) Public URL of the API, e.g. https://auth.example.com
FRONTEND_BASE_URL=           # (required) Public URL of the web UI, e.g. https://app.example.com
CORS_ORIGINS=                # (required) Comma-separated allowed origins, e.g. https://app.example.com

# ---------------------------------------------------------------------------
# Admin bootstrap (required)
# ---------------------------------------------------------------------------
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=              # (required) Initial admin password (min 12 chars, special chars)

# ---------------------------------------------------------------------------
# Email / SMTP (required)
# ---------------------------------------------------------------------------
EMAIL_SMTP_HOST=             # (required) e.g. smtp.sendgrid.net
EMAIL_SMTP_PORT=587
EMAIL_SMTP_TLS=true
EMAIL_SMTP_USERNAME=         # (required)
EMAIL_SMTP_PASSWORD=         # (required)
EMAIL_FROM_ADDRESS=          # (required) e.g. noreply@example.com

# ---------------------------------------------------------------------------
# Encryption keys (required) — generate with: openssl rand -base64 32
# ---------------------------------------------------------------------------
XAVYO_TICKETING_ENCRYPTION_KEY=  # (required)
XAVYO_SIEM_ENCRYPTION_KEY=      # (required)

# ---------------------------------------------------------------------------
# Optional overrides
# ---------------------------------------------------------------------------
# VERSION=latest             # Docker image tag
# API_PORT=8080              # Host port for API
# WEB_PORT=3000              # Host port for frontend
# RUST_LOG=info,tower_http=info
