{"responses":{"200":{"description":"List of access snapshots","content":{"application/json":{"schema":{"type":"object","description":"Paginated list of access snapshots.","required":["items","total","page","page_size"],"properties":{"items":{"type":"array","items":{"type":"object","description":"Access snapshot response.","required":["id","tenant_id","user_id","event_id","snapshot_type","assignments","created_at"],"properties":{"assignments":{"type":"object","description":"Snapshot content response.","required":["assignments","total_count"],"properties":{"assignments":{"type":"array","items":{"type":"object","description":"Snapshot assignment response.","required":["id","entitlement_id","entitlement_name","application_id","application_name","granted_at"],"properties":{"application_id":{"type":"string","format":"uuid","description":"Application ID."},"application_name":{"type":"string","description":"Application name."},"entitlement_external_id":{"type":"string","description":"Entitlement external ID.","nullable":true},"entitlement_id":{"type":"string","format":"uuid","description":"Entitlement ID."},"entitlement_name":{"type":"string","description":"Entitlement name."},"granted_at":{"type":"string","format":"date-time","description":"When the assignment was granted."},"granted_by":{"type":"string","format":"uuid","description":"Who granted the assignment.","nullable":true},"id":{"type":"string","format":"uuid","description":"Assignment ID."},"policy_id":{"type":"string","format":"uuid","description":"Policy that granted this assignment.","nullable":true},"source":{"type":"string","description":"Source of the assignment.","nullable":true}},"title":"SnapshotAssignmentResponse"},"description":"Assignment details."},"snapshot_at":{"type":"string","format":"date-time","description":"When the snapshot was taken.","nullable":true},"total_count":{"type":"integer","format":"int32","description":"Total count of assignments."}},"title":"SnapshotContentResponse"},"created_at":{"type":"string","format":"date-time","description":"When the snapshot was created."},"event_id":{"type":"string","format":"uuid","description":"Event that triggered this snapshot."},"id":{"type":"string","format":"uuid","description":"Unique identifier."},"snapshot_type":{"type":"string","description":"Type of access snapshot.","enum":["pre_leaver","pre_mover","current"],"title":"AccessSnapshotType"},"tenant_id":{"type":"string","format":"uuid","description":"Tenant ID."},"user_id":{"type":"string","format":"uuid","description":"User whose access was captured."}},"title":"AccessSnapshotResponse"},"description":"List of snapshots."},"page":{"type":"integer","format":"int64","description":"Page number."},"page_size":{"type":"integer","format":"int64","description":"Page size."},"total":{"type":"integer","format":"int64","description":"Total count matching the filter."}},"title":"AccessSnapshotListResponse"}}}},"401":{"description":"Unauthorized"},"500":{"description":"Internal server error"}}}