{"responses":{"200":{"description":"Metrics calculated","content":{"application/json":{"schema":{"type":"object","description":"List response for role metrics.","required":["items","total","page","page_size"],"properties":{"items":{"type":"array","items":{"type":"object","description":"Response for role metrics.","required":["id","tenant_id","role_id","utilization_rate","coverage_rate","user_count","active_user_count","entitlement_usage","trend_direction","calculated_at"],"properties":{"active_user_count":{"type":"integer","format":"int32"},"calculated_at":{"type":"string","format":"date-time"},"coverage_rate":{"type":"number","format":"double"},"entitlement_usage":{"type":"array","items":{"type":"object","description":"Entitlement usage details within a role.","required":["entitlement_id","used_by_count","total_users","usage_rate"],"properties":{"entitlement_id":{"type":"string","format":"uuid","description":"Entitlement ID."},"total_users":{"type":"integer","format":"int32","description":"Total users with the role."},"usage_rate":{"type":"number","format":"double","description":"Usage rate (`used_by_count` / `total_users`)."},"used_by_count":{"type":"integer","format":"int32","description":"Users who actually use this entitlement."}},"title":"EntitlementUsage"}},"id":{"type":"string","format":"uuid"},"role_id":{"type":"string","format":"uuid"},"tenant_id":{"type":"string","format":"uuid"},"trend_direction":{"type":"object","description":"Schema for MetricsTrendDirection","title":"MetricsTrendDirection"},"user_count":{"type":"integer","format":"int32"},"utilization_rate":{"type":"number","format":"double"}},"title":"RoleMetricsResponse"}},"page":{"type":"integer","format":"int64"},"page_size":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"}},"title":"RoleMetricsListResponse"}}}},"400":{"description":"Invalid request"},"401":{"description":"Unauthorized"},"500":{"description":"Internal server error"}}}