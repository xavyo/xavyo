{"responses":{"200":{"description":"Simulation results","content":{"application/json":{"schema":{"type":"object","description":"Simulation result response.","required":["simulation_type","roles_to_add","roles_to_remove","potential_conflicts","conflicts_to_resolve","summary"],"properties":{"conflicts_to_resolve":{"type":"array","items":{"type":"object","description":"A potential conflict in simulation.","required":["meta_role_a_id","meta_role_a_name","meta_role_b_id","meta_role_b_name","affected_role_id","affected_role_name","conflict_type","conflicting_items"],"properties":{"affected_role_id":{"type":"string","format":"uuid","description":"Affected role ID."},"affected_role_name":{"type":"string","description":"Affected role name."},"conflict_type":{"type":"string","description":"Type of conflict between meta-roles.","enum":["entitlement_conflict","constraint_conflict","policy_conflict"],"title":"MetaRoleConflictType"},"conflicting_items":{"description":"Details of the conflict."},"meta_role_a_id":{"type":"string","format":"uuid","description":"First meta-role ID."},"meta_role_a_name":{"type":"string","description":"First meta-role name."},"meta_role_b_id":{"type":"string","format":"uuid","description":"Second meta-role ID."},"meta_role_b_name":{"type":"string","description":"Second meta-role name."}},"title":"SimulationConflict"},"description":"Potential conflicts that would be resolved."},"potential_conflicts":{"type":"array","items":{"type":"object","description":"A potential conflict in simulation.","required":["meta_role_a_id","meta_role_a_name","meta_role_b_id","meta_role_b_name","affected_role_id","affected_role_name","conflict_type","conflicting_items"],"properties":{"affected_role_id":{"type":"string","format":"uuid","description":"Affected role ID."},"affected_role_name":{"type":"string","description":"Affected role name."},"conflict_type":{"type":"string","description":"Type of conflict between meta-roles.","enum":["entitlement_conflict","constraint_conflict","policy_conflict"],"title":"MetaRoleConflictType"},"conflicting_items":{"description":"Details of the conflict."},"meta_role_a_id":{"type":"string","format":"uuid","description":"First meta-role ID."},"meta_role_a_name":{"type":"string","description":"First meta-role name."},"meta_role_b_id":{"type":"string","format":"uuid","description":"Second meta-role ID."},"meta_role_b_name":{"type":"string","description":"Second meta-role name."}},"title":"SimulationConflict"},"description":"Potential conflicts that would be created."},"roles_to_add":{"type":"array","items":{"type":"object","description":"A role change in simulation.","required":["role_id","role_name","reason","entitlements_affected","constraints_affected"],"properties":{"application_id":{"type":"string","format":"uuid","description":"Application ID.","nullable":true},"constraints_affected":{"type":"array","items":{"type":"string"},"description":"Constraints that would be inherited/removed."},"entitlements_affected":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Entitlements that would be inherited/removed."},"reason":{"description":"Why this role matches/unmatches."},"role_id":{"type":"string","format":"uuid","description":"Role ID."},"role_name":{"type":"string","description":"Role name."}},"title":"SimulationRoleChange"},"description":"Roles that would gain inheritance."},"roles_to_remove":{"type":"array","items":{"type":"object","description":"A role change in simulation.","required":["role_id","role_name","reason","entitlements_affected","constraints_affected"],"properties":{"application_id":{"type":"string","format":"uuid","description":"Application ID.","nullable":true},"constraints_affected":{"type":"array","items":{"type":"string"},"description":"Constraints that would be inherited/removed."},"entitlements_affected":{"type":"array","items":{"type":"string","format":"uuid"},"description":"Entitlements that would be inherited/removed."},"reason":{"description":"Why this role matches/unmatches."},"role_id":{"type":"string","format":"uuid","description":"Role ID."},"role_name":{"type":"string","description":"Role name."}},"title":"SimulationRoleChange"},"description":"Roles that would lose inheritance."},"simulation_type":{"type":"string","description":"Type of meta-role simulation.","enum":["create","update","delete","criteria_change","enable","disable"],"title":"MetaRoleSimulationType"},"summary":{"type":"object","description":"Summary of simulation results.","required":["total_roles_affected","roles_gaining_inheritance","roles_losing_inheritance","new_conflicts","resolved_conflicts","is_safe","warnings"],"properties":{"is_safe":{"type":"boolean","description":"Whether the change is safe to apply."},"new_conflicts":{"type":"integer","format":"int64","description":"New conflicts that would be created."},"resolved_conflicts":{"type":"integer","format":"int64","description":"Conflicts that would be resolved."},"roles_gaining_inheritance":{"type":"integer","format":"int64","description":"Roles gaining inheritance."},"roles_losing_inheritance":{"type":"integer","format":"int64","description":"Roles losing inheritance."},"total_roles_affected":{"type":"integer","format":"int64","description":"Total roles that would be affected."},"warnings":{"type":"array","items":{"type":"string"},"description":"Warnings about potential issues."}},"title":"SimulationSummary"}},"title":"SimulationResultResponse"}}}},"400":{"description":"Invalid request"},"401":{"description":"Unauthorized"},"404":{"description":"Meta-role not found"},"500":{"description":"Internal server error"}}}